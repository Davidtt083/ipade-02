<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="./style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.3/lottie.min.js"></script>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <link rel="stylesheet" href="https://use.typekit.net/gnc2otm.css">

</head>

<body>
  <div class="bgcontenedor1">
    <h2 class="titulo1">En general, ¿cómo evalúas a Nayeli Ucha como directora?</h2>
    <div class="botonera" id="botonera">
      <div class="flecha_izquierda" id="btn2" onclick=""><</div>
      <div class="conexto hide" id="btn3" onclick="">Predictiva: ¿qué pasará?</div>
      <div class="flecha_derecha" id="btn4" onclick="">></div>
    </div>
    <div class="rating-system">
      <div>
          <h3>Puntuación:</h3>
          <div class="stars" id="rating">
              <span data-value="1">★</span>
              <span data-value="2">★</span>
              <span data-value="3">★</span>
              <span data-value="4">★</span>
              <span data-value="5">★</span>
          </div>
      </div>
      <div>
          <h3>Comentario:</h3>
          <textarea id="comment" rows="4" cols="50"></textarea>
      </div>
      <button onclick="submitFeedback()">Enviar</button>
  </div>
  
  <div id="feedbacks">
      <h3>Comentarios y Puntuaciones:</h3>
      <div id="feedbackList"></div>
  </div>

  <!-------------scripts------------------>

  <script>
 document.addEventListener('DOMContentLoaded', () => {
    const ratingElements = document.querySelectorAll('#rating span');

    ratingElements.forEach(star => {
        star.addEventListener('click', () => {
            updateStars(ratingElements, star.dataset.value);
        });
    });
});

function updateStars(stars, value) {
    stars.forEach(star => {
        if (star.dataset.value <= value) {
            star.classList.add('selected');
        } else {
            star.classList.remove('selected');
        }
    });
}

function submitFeedback() {
    const rating = getSelectedRating(document.querySelectorAll('#rating span'));
    const comment = document.getElementById('comment').value;

    if (rating && comment) {
        const feedback = {
            rating: rating,
            comment: comment,
        };

        localStorage.setItem('feedback', JSON.stringify(feedback));
        window.location.href = 'contenido2.html';
    } else {
        alert('Por favor, complete todos los campos.');
    }
}

function getSelectedRating(stars) {
    let rating = 0;
    stars.forEach(star => {
        if (star.classList.contains('selected')) {
            rating = star.dataset.value;
        }
    });
    return rating;
}

  </script>

  <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>


</body>

</html>